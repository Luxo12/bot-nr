[null,{"name":"<center><b><div style=\"color:red;\">Lobby </div></center>","temp":"","event-type":"0","_id":"bsTIk","actions":[]},{"name":"join","temp":"user","event-type":"6","_id":"INYsR","actions":[{"info":"0","find":"776112762048741377","storage":"1","varName":"kanal","name":"Find Channel"},{"member":"2","varName":"user","info":"16","storage":"1","varName2":"member_avatar","name":"Store Member Info"},{"title":"Siema!","author":"NoteRPG","color":"#0000b3","url":"","authorIcon":"","authorUrl":"","imageUrl":"","thumbUrl":"${tempVars(\"member_avatar\")}","timestamp":"false","debug":"false","text":"","year":"","month":"","day":"","hour":"","minute":"","second":"","storage":"1","varName":"embet_powitanie","name":"Create Embed Message"},{"storage":"1","varName":"embet_powitanie","message":"${tempVars(\"user\")}, witamy na naszym serwerze!üòé","name":"Set Embed Description"},{"storage":"1","varName":"embet_powitanie","channel":"5","varName2":"kanal","storage3":"0","varName3":"","iffalse":"0","iffalseVal":"","messageContent":"","name":"Send Embed Message"}]},{"name":"left","temp":"user","event-type":"7","_id":"AcRGL","actions":[{"info":"0","find":"776112762048741377","storage":"1","varName":"kanal","name":"Find Channel"},{"member":"2","varName":"user","info":"16","storage":"1","varName2":"member_avatar","name":"Store Member Info"},{"title":"≈ªegnamy!","author":"NoteRPG","color":"#0000b3","url":"","authorIcon":"","authorUrl":"","imageUrl":"","thumbUrl":"${tempVars(\"member_avatar\")}","timestamp":"false","debug":"false","text":"","year":"","month":"","day":"","hour":"","minute":"","second":"","storage":"1","varName":"embet_po≈ºegnanie","name":"Create Embed Message"},{"storage":"1","varName":"embet_po≈ºegnanie","message":"${tempVars(\"user\")},≈ºegnamy i do zobaczenia!üò¢\n ","name":"Set Embed Description"},{"storage":"1","varName":"embet_po≈ºegnanie","channel":"5","varName2":"kanal","storage3":"0","varName3":"","iffalse":"0","iffalseVal":"","messageContent":"","name":"Send Embed Message"}]},{"name":"<center><b><div style=\"color:blue\">Status </div></center>","temp":"","event-type":"0","_id":"gsKqo","actions":[]},{"name":"MTA status","temp":"120","event-type":"3","_id":"CsqOJ","actions":[{"activity":"0","nameText":"Gracze: ${tempVars(\"gracze\")}/${tempVars(\"max\")}","url":"","stat":"0","name":"Set Bot Activity"},{"serverip":"54.38.132.53:21744","serverport":"21867","game":"mtasa","info":"2","storage":"1","varName":"gracze","name":"Store Game Server Info"},{"serverip":"54.38.132.53:21744","serverport":"21867","game":"mtasa","info":"4","storage":"1","varName":"max","name":"Store Game Server Info"},{"time":"120","measurement":"1","name":"Wait"},{"call":"3","name":"Jump to Action"}]},{"name":"<center><b><div style=\"color:lime;\">Captch </div></center>","temp":"","event-type":"0","_id":"TiDGB","actions":[]},{"name":"CaptchaStart","temp":"memberJoined","event-type":"1","_id":"tbmZg","actions":[{"behavior":"1","interpretation":"1","code":"if (globalVars(\"captchaStartAlreadyRan\") == null) {\n    const request = require(\"request\");\n    const Discord = require('discord.js');\n    const fs = require('fs');\n    var checkUpdates = true;\n\n    this.storeValue(true, 3, \"captchaStartAlreadyRan\", cache);\n\n    if (!fs.existsSync(\"./captchas\")) {\n        fs.mkdirSync(\"./captchas\");\n    }\n\n    fs.readdir(\"./captchas\", (err, files) => {\n        if (err) throw err;\n\n        for (const file of files) {\n            var fileExt = getExtension(file);\n            if (fileExt == \".png\") {\n                fs.unlink(`./captchas/${file}`, err => {\n                    if (err) throw err;\n                });\n            }\n        }\n    });\n\n    function getExtension(filename) {\n        var i = filename.lastIndexOf('.');\n        return (i < 0) ? '' : filename.substr(i);\n    }\n\n    var requiredIntents = [\"GUILD_MEMBERS\"];\n        var intentCheck = new Discord.Intents(DBM.Bot.intents()).toArray();\n        requiredIntents.forEach(intent => {\n            if (!intentCheck.includes(intent)) {\n                console.log(`[Captcha] You don't have the ${intent} intent enabled!`)\n            }\n        })\n\n\n\n    if (checkUpdates) {\n        request('https://raw.githubusercontent.com/ItzPike/DBM-Rawdata-Releases/master/Captcha/versionCheck.json', function(error, response, body) {\n            if (response.statusCode == 200) {\n                var allVersions = JSON.parse(body);\n\n                var commandVersions = {};\n                var eventVersions = {};\n                var commandKeys = [];\n                var eventKeys = []\n\n                allVersions[\"commands\"].forEach(commandVer => {\n                    commandVersions[commandVer[0]] = commandVer[1];\n                    commandKeys.push(commandVer[0]);\n                });\n\n                allVersions[\"events\"].forEach(eventVer => {\n                    eventVersions[eventVer[0]] = eventVer[1];\n                    eventKeys.push(eventVer[0])\n                })\n\n                fs.readFile(\"./data/commands.json\", async function(err, data) {\n                    var data = JSON.parse(data);\n\n                    var systemCommands = await data.filter(command => command != null && commandKeys.includes(command[\"_id\"]));\n\n                    for (i = 0; i < systemCommands.length; i++) {\n                        var systemActionFind = await systemCommands[i][\"actions\"].filter(actionInfo => actionInfo.name = \"Run Script\" && actionInfo.code != null);\n\n                        if (systemActionFind.length != 0) {\n                            var versionCheckSplit = systemActionFind[0].code.split(\"VersionCheck:\");\n                            if (versionCheckSplit[1] != null && versionCheckSplit[1] != commandVersions[systemCommands[i][\"_id\"]] && !isNaN(versionCheckSplit[versionCheckSplit.length - 1])) {\n                                console.log(`[Capcha] The command ${systemCommands[i][\"name\"]} needs an update!`)\n                            }\n                        }\n                    }\n                })\n\n                fs.readFile(\"./data/events.json\", async function(err, data) {\n                    var data = JSON.parse(data);\n\n                    var systemEvent = await data.filter(event => event != null && eventKeys.includes(event[\"_id\"]));\n\n                    for (i = 0; i < systemEvent.length; i++) {\n                        var systemEventFind = await systemEvent[i][\"actions\"].filter(actionInfo => actionInfo.name = \"Run Script\" && actionInfo.code != null);\n\n                        if (systemEventFind.length != 0) {\n                            var versionCheckSplit = systemEventFind[0].code.split(\"VersionCheck:\");\n                            if (versionCheckSplit != null && versionCheckSplit[versionCheckSplit.length - 1] != eventVersions[systemEvent[i][\"_id\"]] && !isNaN(versionCheckSplit[versionCheckSplit.length - 1])) {\n                                console.log(`[Capcha] The event ${systemEvent[i][\"name\"]} needs an update!`)\n                            }\n                        }\n                    }\n                })\n            }\n        });\n    }\n\n    client.on('guildMemberAdd', (member) => {\n        var memberJoined = member;\n        var serverRoleToGive = memberJoined.guild.data(\"serverCaptchaRole\");\n        var roleToGive = [];\n\n        if (serverRoleToGive != null && serverRoleToGive != 0) {\n            if (!Array.isArray(serverRoleToGive)) {\n                serverRoleToGive = [serverRoleToGive];\n            } else {\n                serverRoleToGive = serverRoleToGive;\n            }\n\n            var rolesInServer = memberJoined.guild.roles.cache.keyArray();\n\n            for (i=0; i<serverRoleToGive.length; i++) {\n                if (rolesInServer.includes(serverRoleToGive[i])) {\n                    roleToGive.push(serverRoleToGive[i]);\n                }\n            }\n\n            if (roleToGive.length > 0 || serverRoleToGive == 1) {\n                getCaptcha(3, \"\");\n            } else {\n                memberJoined.guild.setData(\"serverCaptchaRole\", 0);\n            }\n\n            if (serverRoleToGive != roleToGive) {\n                memberJoined.guild.setData(\"serverCaptchaRole\", roleToGive)\n            }\n        }\n\n        function getCaptcha(attempts, reason) {\n            var embed = {\n                \"title\": \"Automatyczny system captcha\",\n                \"description\": `Witaj na ${memberJoined.guild.name}!\\n\\nTen serwer jest zabezpieczony przez captcha system i musisz rozwiƒÖzaƒá poni≈ºszy kod.\\n\\n**Captchas rozr√≥≈ºniajƒÖ wielko≈õƒá liter.**\\n\\nJe≈õli odpowiedsz ≈∫le, masz trzy pr√≥by by zrobiƒá dobrze.\\nCaptcha od≈õwie≈ºy siƒô po ka≈ºdej nieudanej pr√≥bie.\\n\\nMasz 120 sekund na rozwiƒÖzanie ka≈ºdej pr√≥by\\n\\n${attempts} pr√≥by/a pozosta≈Çy/a\\n\\n${reason}`,\n                \"color\": 0x00ff00\n            }\n\n            if (attempts != 0) {\n                request('https://captchaGenerate.itzpike.repl.co', function(error, response, body) {\n                    if (response.statusCode == 200) {\n                        body = JSON.parse(body);\n\n                        var data = body.image.replace(/^data:image\\/\\w+;base64,/, '');\n                        var fileTitle = Math.random().toString(36).substring(6);\n                        fs.writeFile(`./captchas/${fileTitle}.png`, data, {\n                            encoding: 'base64'\n                        }, function(err) {\n                            if (err) {\n                                console.log(err);\n                            }\n\n                            const file = new Discord.MessageAttachment(`./captchas/${fileTitle}.png`);\n                            embed[\"image\"] = {\n                                \"url\": `attachment://${fileTitle}.png`\n                            }\n\n                            memberJoined.send({\n                                files: [file],\n                                embed: embed\n                            }).then(msgSent => {\n                                msgSent.channel.awaitMessages(m => m.author.id == memberJoined.id, {\n                                        max: 1,\n                                        time: 120000,\n                                        errors: ['time']\n                                    })\n                                    .then(collected => {\n                                        fs.unlinkSync(`./captchas/${fileTitle}.png`);\n                                        msgSent.delete();\n                                        if (collected.first().content.replace(/\\s/g, '') == body.key) {\n                                            if (serverRoleToGive != 1) {\n                                                memberJoined.roles.add(roleToGive);\n                                            }\n                                            embed.description = \"Captcha rozwiƒÖzana pomy≈õlnie!\\n\\nWitaj na naszym serwerze..\";\n                                            delete embed[\"image\"];\n                                            memberJoined.send({\n                                                embed: embed\n                                            });\n                                        } else {\n                                            getCaptcha(attempts - 1, \"Nie poda≈Çe≈õ/a≈õ prawid≈Çowego kodu!\");\n                                        }\n                                    })\n                                    .catch(err => {\n                                        fs.unlinkSync(`./captchas/${fileTitle}.png`);\n                                        getCaptcha(attempts - 1, \"Sko≈Ñczy≈Ç ci siƒô czas!\");\n                                    });\n                            })\n                        });\n                    }\n                })\n            } else {\n                embed.color = 0xff0000;\n                embed.description = \"Weryfikacja Captcha nie powiod≈Ça siƒô!\\n\\nSko≈Ñczy≈Çy siƒô pr√≥by!\\nDo≈ÇƒÖcz do serwera ponownie aby ponownie zweryfikowaƒá siƒô systemem Captcha\";\n                memberJoined.send({\n                    embed: embed\n                }).then(serverMess => {\n                    memberJoined.kick();\n                })\n            }\n        }\n\n\n    })\n}\n\n// VersionCheck:7","storage":"0","varName":"","name":"Run Script"}]},{"name":"<center><b><div style=\"color:white;\">radio </div></center>","temp":"","event-type":"0","_id":"bUbto","actions":[]},{"name":"radio","temp":"","event-type":"1","_id":"ZlBGN","actions":[{"action":"0","name":"Control Audio"},{"name":"Leave Voice Channel"},{"time":"2","measurement":"1","name":"Wait"},{"info":"0","find":"838430435843113000","storage":"1","varName":"channel_radio","name":"Find Voice Channel"},{"channel":"3","varName":"channel_radio","name":"Join Voice Channel"},{"url":"http://195.150.20.5/rmf_maxxx","seek":"0","volume":"88","passes":"1","bitrate":"96","type":"1","name":"Play URL"},{"time":"3","measurement":"3","name":"Wait"},{"call":"1","name":"Jump to Action"}]},{"name":"<center><b><div style=\"color:orange;\">reakcje </div></center>","temp":"","event-type":"0","_id":"JqjHq","actions":[]},{"name":"reakcje","permissions":"NONE","restriction":"1","_id":"GaqJt","actions":[{"message":"1","varName":"message","info":"4","storage":"1","varName2":"channel","name":"Store Message Info"},{"channel":"3","varName":"channel","info":"1","storage":"1","varName2":"channelid","name":"Store Channel Info"},{"storage":"1","varName":"channelid","comparison":"1","value":"777971034150141971","iftrue":"0","iftrueVal":"","iffalse":"1","iffalseVal":"","name":"Check Variable"},{"server":"0","varName":"","storage":"1","varName2":"bot","name":"Get Bot as Member"},{"storage":"1","varName":"message","emoji":"4","varName2":"üëç","varName3":"emoji","name":"Add Reaction"}],"comType":"0","event-type":"2","temp":"message"},{"name":"<center><b><div style=\"color:yellow;\">Logi</div></center>","temp":"","event-type":"0","_id":"OCRNa","actions":[]},{"name":"Message Update","temp":"Message [First]","event-type":"26","_id":"hDuAS","actions":[{"info":"0","find":"776150705207246849","storage":"1","varName":"Log Channel","name":"Find Channel"},{"message":"1","varName":"Message [First]","info":"3","storage":"1","varName2":"Message Author","name":"Store Message Info"},{"message":"1","varName":"Message [First]","info":"4","storage":"1","varName2":"Message Channel","name":"Store Message Info"},{"message":"1","varName":"Message [First]","info":"2","storage":"1","varName2":"Message Text [First]","name":"Store Message Info"},{"message":"1","varName":"Message [Last]","info":"2","storage":"1","varName2":"Message Text [Last]","name":"Store Message Info"},{"member":"2","varName":"Message Author","info":"16","storage":"1","varName2":"Member Avatar URL","name":"Store Member Info"},{"member":"2","varName":"Message Author","info":"21","storage":"1","varName2":"Member Tag","name":"Store Member Info"},{"member":"2","varName":"Message Author","info":"1","storage":"1","varName2":"Member ID","name":"Store Member Info"},{"title":"","author":"${tempVars(\"Member Tag\")} [${tempVars(\"Member ID\")}]","color":"BLUE","url":"","authorIcon":"${tempVars(\"Member Avatar URL\")}","authorUrl":"","imageUrl":"","thumbUrl":"","timestamp":"false","debug":"false","text":"","year":"","month":"","day":"","hour":"","minute":"","second":"","storage":"1","varName":"Embed","name":"Create Embed Message"},{"storage":"1","varName":"Embed","fieldName":"Na kanale:","message":"${tempVars(\"Message Channel\")}","inline":"0","name":"Add Embed Field"},{"storage":"1","varName":"Embed","fieldName":"Poprzednia tre≈õƒá wiadomo≈õci:","message":"${tempVars(\"Message Text [First]\")}","inline":"0","name":"Add Embed Field"},{"storage":"1","varName":"Embed","fieldName":"Aktualna tre≈õƒá wiadomo≈õci:","message":"${tempVars(\"Message Text [Last]\")}","inline":"0","name":"Add Embed Field"},{"storage":"1","varName":"Embed","message":"Pomy≈õlnie wykryto zedytowanƒÖ wiadomo≈õƒá!","footerIcon":"","name":"Set Embed Footer"},{"storage":"1","varName":"Embed","channel":"5","varName2":"Log Channel","storage3":"0","varName3":"","iffalse":"0","iffalseVal":"","messageContent":"","name":"Send Embed Message"}],"temp2":"Message [Last]"},{"name":"Usuniƒôta wiadomo≈õƒá","temp":"Message","event-type":"18","_id":"TADuY","actions":[{"info":"0","find":"776150705207246849","storage":"1","varName":"Log Channel","name":"Find Channel"},{"message":"1","varName":"Message","info":"3","storage":"1","varName2":"Message Author","name":"Store Message Info"},{"message":"1","varName":"Message","info":"4","storage":"1","varName2":"Message Channel","name":"Store Message Info"},{"message":"1","varName":"Message","info":"2","storage":"1","varName2":"Message Text","name":"Store Message Info"},{"member":"2","varName":"Message Author","info":"16","storage":"1","varName2":"Member Avatar URL","name":"Store Member Info"},{"member":"2","varName":"Message Author","info":"21","storage":"1","varName2":"Member Tag","name":"Store Member Info"},{"member":"2","varName":"Message Author","info":"1","storage":"1","varName2":"Member ID","name":"Store Member Info"},{"title":"","author":"${tempVars(\"Member Tag\")} [${tempVars(\"Member ID\")}]","color":"RED","url":"","authorIcon":"${tempVars(\"Member Avatar URL\")}","authorUrl":"","imageUrl":"","thumbUrl":"","timestamp":"false","debug":"false","text":"","year":"","month":"","day":"","hour":"","minute":"","second":"","storage":"1","varName":"Embed","name":"Create Embed Message"},{"storage":"1","varName":"Embed","fieldName":"Na kanale:","message":"${tempVars(\"Message Channel\")}","inline":"0","name":"Add Embed Field"},{"storage":"1","varName":"Embed","fieldName":"Tre≈õƒá wiadomo≈õci:","message":"${tempVars(\"Message Text\")}","inline":"0","name":"Add Embed Field"},{"storage":"1","varName":"Embed","message":"Wykryto usuniƒôtƒÖ wiadomo≈õƒá!","footerIcon":"","name":"Set Embed Footer"},{"storage":"1","varName":"Embed","channel":"5","varName2":"Log Channel","storage3":"0","varName3":"","iffalse":"0","iffalseVal":"","messageContent":"","name":"Send Embed Message"}]},{"name":"<center><b><div style=\"color:black;\">Bot </div></center>","temp":"","event-type":"0","_id":"VrhUB","actions":[]},{"name":"Bot Error","temp":"DBM Error","event-type":"37","_id":"nsCDk","actions":[{"info":"0","find":"627906994011111424","storage":"1","varName":"idmember","name":"Find Member"},{"title":"","author":"","color":"RED","url":"","authorIcon":"","authorUrl":"","imageUrl":"","thumbUrl":"","timestamp":"false","debug":"false","text":"","year":"","month":"","day":"","hour":"","minute":"","second":"","storage":"1","varName":"Embed","name":"Create Embed Message"},{"storage":"1","varName":"Embed","fieldName":"B≈ÇƒÖd JavaScript:","message":"```js\n${tempVars(\"JS Error\")}\n```","inline":"1","name":"Add Embed Field"},{"storage":"1","varName":"Embed","fieldName":"B≈ÇƒÖd DBM:","message":"```js\n${tempVars(\"DBM Error\")}\n```","inline":"1","name":"Add Embed Field"},{"storage":"1","varName":"Embed","message":"Wykryto b≈ÇƒÖd bota ","footerIcon":"","name":"Set Embed Footer"},{"storage":"1","varName":"Embed","channel":"5","varName2":"idmember","varName3":"","storage3":"0","name":"Send Embed Message"}],"temp2":"JS Error"},{"name":"NoweZdarzenie","temp":"","event-type":"0","_id":"oyHvx","actions":[]}]